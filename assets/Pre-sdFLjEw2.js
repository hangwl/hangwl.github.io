import{c as m,r as l,j as s}from"./index-CtAT4ExP.js";import{C as f}from"./check-cCh0FZgT.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],x=m("clipboard",v);function k(){const[u,p]=l.useState([]);return l.useEffect(()=>{const e=()=>{const i=document.querySelectorAll("article h1, article h2, article h3, article h4, article h5, article h6"),c=[];i.forEach(t=>{const b=parseInt(t.tagName.charAt(1)),h=t.textContent||"";let r=t.id;if(!r){r=h.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");let g=1,d=r;for(;document.getElementById(d);)d=`${r}-${g}`,g++;t.id=d,r=d}c.push({id:r,title:h,level:b})}),p(c)},a=setTimeout(e,100),o=new MutationObserver(e),n=document.querySelector("article");return n&&o.observe(n,{childList:!0,subtree:!0}),()=>{clearTimeout(a),o.disconnect()}},[]),u}function z({children:u,...p}){const[e,a]=l.useState(!1),o=l.useRef(null),n=async()=>{var t;const i=(t=o.current)==null?void 0:t.querySelector("code"),c=(i==null?void 0:i.textContent)||"";if(c)try{await navigator.clipboard.writeText(c),a(!0),setTimeout(()=>{a(!1)},2e3)}catch(b){console.error("Failed to copy code:",b)}};return s.jsxs("div",{className:"relative group",children:[s.jsx("button",{type:"button",disabled:e,onClick:n,"aria-label":e?"Code copied":"Copy code to clipboard",title:e?"Copied!":"Copy code",className:"absolute top-3 right-3 z-10 p-2 rounded-md bg-zinc-800/90 hover:bg-zinc-800 dark:bg-background/90 dark:hover:bg-background text-zinc-400 hover:text-zinc-100 dark:text-muted-foreground dark:hover:text-foreground opacity-70 hover:opacity-100 focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 transition-all duration-200 disabled:opacity-100 border border-zinc-700/50 hover:border-zinc-600 dark:border-border/50 dark:hover:border-border shadow-sm backdrop-blur-sm",children:e?s.jsx(f,{size:18,className:"text-green-500 animate-in fade-in zoom-in duration-200"}):s.jsx(x,{size:18,className:"transition-transform group-hover:scale-110"})}),s.jsx("pre",{ref:o,...p,children:u})]})}export{z as P,k as u};
