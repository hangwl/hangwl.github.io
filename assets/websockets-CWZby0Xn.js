import{j as i}from"./index-BKgolIEe.js";const l=[{id:"introduction",title:"Introduction",level:2},{id:"how-websockets-work",title:"How WebSockets Work",level:2},{id:"websockets-vs-http",title:"WebSockets vs HTTP",level:2},{id:"websockets-vs-polling-vs-sse",title:"WebSockets vs Polling vs SSE",level:2},{id:"common-use-cases",title:"Common Use Cases",level:2},{id:"implementation-example",title:"Implementation Example",level:2},{id:"client-side-javascript",title:"Client-Side (JavaScript)",level:3},{id:"server-side-nodejs-with-ws-library",title:"Server-Side (Node.js with ws library)",level:3},{id:"best-practices",title:"Best Practices",level:2},{id:"connection-management",title:"Connection Management",level:3},{id:"security",title:"Security",level:3},{id:"performance",title:"Performance",level:3},{id:"error-handling",title:"Error Handling",level:3},{id:"websocket-close-codes",title:"WebSocket Close Codes",level:2},{id:"limitations",title:"Limitations",level:2}],t={title:"WebSockets",links:["http","https","http-vs-https"]};function n(e){const s={code:"code",figure:"figure",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...e.components};return i.jsxs(i.Fragment,{children:[i.jsx(s.h2,{id:"introduction",children:"Introduction"}),`
`,i.jsxs(s.p,{children:["WebSockets is a ",i.jsx(s.strong,{children:"communication protocol that provides full-duplex, bidirectional communication channels over a single TCP connection"}),". Unlike HTTP, which follows a request-response model, WebSockets enable real-time data exchange between clients and servers with minimal overhead."]}),`
`,i.jsxs(s.p,{children:["WebSockets are designed for scenarios requiring ",i.jsx(s.strong,{children:"persistent connections"})," and ",i.jsx(s.strong,{children:"low-latency communication"}),", making them ideal for interactive applications."]}),`
`,i.jsx(s.h2,{id:"how-websockets-work",children:"How WebSockets Work"}),`
`,i.jsxs(s.p,{children:["WebSockets establish a connection through a process called the ",i.jsx(s.strong,{children:"WebSocket handshake"}),":"]}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Handshake Request"}),": Client sends an HTTP request with an ",i.jsx(s.code,{children:"Upgrade: websocket"})," header"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Handshake Response"}),": Server responds with ",i.jsx(s.code,{children:"101 Switching Protocols"})," to accept the upgrade"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Connection Established"}),": The HTTP connection is upgraded to a WebSocket connection"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Bidirectional Communication"}),": Both client and server can send messages at any time"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Connection Close"}),": Either party can close the connection when done"]}),`
`]}),`
`,i.jsx(s.p,{children:"Once established, the WebSocket connection remains open, allowing both parties to send data frames without the overhead of HTTP headers for each message."}),`
`,i.jsx(s.h2,{id:"websockets-vs-http",children:"WebSockets vs HTTP"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Aspect"}),i.jsx(s.th,{children:"WebSockets"}),i.jsx(s.th,{children:"HTTP"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Communication"})}),i.jsx(s.td,{children:"Full-duplex (bidirectional)"}),i.jsx(s.td,{children:"Half-duplex (request-response)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Connection"})}),i.jsx(s.td,{children:"Persistent"}),i.jsx(s.td,{children:"Stateless (new connection per request)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Overhead"})}),i.jsx(s.td,{children:"Low (minimal framing)"}),i.jsx(s.td,{children:"High (headers with each request)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Latency"})}),i.jsx(s.td,{children:"Very low"}),i.jsx(s.td,{children:"Higher (connection setup per request)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Server Push"})}),i.jsx(s.td,{children:"Native support"}),i.jsx(s.td,{children:"Requires polling or SSE"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Use Case"})}),i.jsx(s.td,{children:"Real-time, interactive apps"}),i.jsx(s.td,{children:"Traditional web requests"})]})]})]}),`
`,i.jsx(s.h2,{id:"websockets-vs-polling-vs-sse",children:"WebSockets vs Polling vs SSE"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Feature"}),i.jsx(s.th,{children:"WebSockets"}),i.jsx(s.th,{children:"Long Polling"}),i.jsx(s.th,{children:"Server-Sent Events (SSE)"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Direction"})}),i.jsx(s.td,{children:"Bidirectional"}),i.jsx(s.td,{children:"Client-initiated"}),i.jsx(s.td,{children:"Server to client only"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Connection"})}),i.jsx(s.td,{children:"Single persistent"}),i.jsx(s.td,{children:"Multiple HTTP requests"}),i.jsx(s.td,{children:"Single persistent HTTP"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Efficiency"})}),i.jsx(s.td,{children:"Very high"}),i.jsx(s.td,{children:"Low"}),i.jsx(s.td,{children:"Medium"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Browser Support"})}),i.jsx(s.td,{children:"Excellent"}),i.jsx(s.td,{children:"Universal"}),i.jsx(s.td,{children:"Good (no IE)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Complexity"})}),i.jsx(s.td,{children:"Medium"}),i.jsx(s.td,{children:"Low"}),i.jsx(s.td,{children:"Low"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Reconnection"})}),i.jsx(s.td,{children:"Manual"}),i.jsx(s.td,{children:"Automatic"}),i.jsx(s.td,{children:"Automatic"})]})]})]}),`
`,i.jsx(s.h2,{id:"common-use-cases",children:"Common Use Cases"}),`
`,i.jsx(s.p,{children:"WebSockets are ideal for applications requiring real-time updates:"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Chat Applications"}),": Instant messaging, group chats, presence indicators"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Live Feeds"}),": Social media updates, news tickers, activity streams"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Collaborative Tools"}),": Real-time document editing, whiteboards, code editors"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Gaming"}),": Multiplayer games, real-time game state synchronization"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Financial Trading"}),": Live stock prices, order book updates, trade notifications"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"IoT Dashboards"}),": Sensor data streaming, device control, monitoring"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Live Sports"}),": Score updates, play-by-play commentary, statistics"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Notifications"}),": Push notifications, alerts, system status updates"]}),`
`]}),`
`,i.jsx(s.h2,{id:"implementation-example",children:"Implementation Example"}),`
`,i.jsx(s.h3,{id:"client-side-javascript",children:"Client-Side (JavaScript)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{style:{"--shiki-dark":"#e6edf3","--shiki-light":"#D4D4D4","--shiki-dark-bg":"#0d1117","--shiki-light-bg":"#1E1E1E"},tabIndex:"0","data-language":"javascript","data-theme":"github-dark-default dark-plus",children:i.jsxs(s.code,{"data-language":"javascript","data-theme":"github-dark-default dark-plus",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"// Create WebSocket connection"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:" socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#D4D4D4"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:" new"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:" WebSocket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'wss://example.com/socket'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"// Connection opened"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"addEventListener"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'open'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"event"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  console"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'Connected to WebSocket server'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"send"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:"JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"stringify"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"({ "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"type:"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:" 'greeting'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"message:"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:" 'Hello Server!'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" }));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"});"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"// Listen for messages"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"addEventListener"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'message'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"event"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"  const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:" data"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#D4D4D4"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:" JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"parse"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"event"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"data"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  console"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'Message from server:'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"data"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"});"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"// Handle errors"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"addEventListener"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'error'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"event"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  console"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"error"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'WebSocket error:'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"event"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"});"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"// Connection closed"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"addEventListener"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'close'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"event"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  console"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'Disconnected from WebSocket server'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"});"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"// Send a message"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:" sendMessage"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"message"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#C586C0"},children:"  if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"readyState"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#D4D4D4"},children:" ==="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:" WebSocket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:"OPEN"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"    socket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"send"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:"JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"stringify"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"message"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"}"})})]})})}),`
`,i.jsx(s.h3,{id:"server-side-nodejs-with-ws-library",children:"Server-Side (Node.js with ws library)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{style:{"--shiki-dark":"#e6edf3","--shiki-light":"#D4D4D4","--shiki-dark-bg":"#0d1117","--shiki-light-bg":"#1E1E1E"},tabIndex:"0","data-language":"javascript","data-theme":"github-dark-default dark-plus",children:i.jsxs(s.code,{"data-language":"javascript","data-theme":"github-dark-default dark-plus",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:" WebSocket"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#D4D4D4"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:" require"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'ws'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:" wss"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#D4D4D4"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:" new"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:" WebSocket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"Server"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"({ "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"port:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#B5CEA8"},children:" 8080"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" });"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"wss"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"on"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'connection'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"ws"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  console"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'New client connected'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"  // Send welcome message"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  ws"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"send"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:"JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"stringify"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"({ "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"type:"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:" 'welcome'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"message:"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:" 'Connected to server'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" }));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"  // Listen for messages from client"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  ws"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"on"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'message'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"message"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"    const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:" data"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#D4D4D4"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:" JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"parse"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"message"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"    console"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'Received:'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"data"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"    // Broadcast to all clients"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"    wss"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"clients"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"forEach"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"(("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#9CDCFE"},children:"client"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#C586C0"},children:"      if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"client"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"readyState"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#D4D4D4"},children:" ==="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:" WebSocket"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:"OPEN"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:") {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"        client"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"send"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#4FC1FF"},children:"JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"stringify"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"data"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"      }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"    });"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"  });"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6A9955"},children:"  // Handle disconnection"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"  ws"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"on"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'close'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:", () "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#569CD6"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#9CDCFE"},children:"    console"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#DCDCAA"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#CE9178"},children:"'Client disconnected'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"  });"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#D4D4D4"},children:"});"})})]})})}),`
`,i.jsx(s.h2,{id:"best-practices",children:"Best Practices"}),`
`,i.jsx(s.h3,{id:"connection-management",children:"Connection Management"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Reconnection Logic"}),": Implement automatic reconnection with exponential backoff"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Heartbeat/Ping-Pong"}),": Send periodic pings to detect broken connections"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Connection Limits"}),": Set reasonable limits on concurrent connections per user"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Graceful Shutdown"}),": Close connections properly with appropriate close codes"]}),`
`]}),`
`,i.jsx(s.h3,{id:"security",children:"Security"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Use WSS (WebSocket Secure)"}),": Always use encrypted connections in production"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Authentication"}),": Verify user identity during handshake or first message"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Authorization"}),": Validate permissions before sending sensitive data"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Input Validation"}),": Sanitize and validate all incoming messages"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Rate Limiting"}),": Prevent abuse by limiting message frequency"]}),`
`]}),`
`,i.jsx(s.h3,{id:"performance",children:"Performance"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Message Compression"}),": Enable permessage-deflate extension for large messages"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Binary Frames"}),": Use binary format for non-text data to reduce overhead"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Message Batching"}),": Combine multiple updates into single messages when possible"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Connection Pooling"}),": Reuse connections efficiently on the server side"]}),`
`]}),`
`,i.jsx(s.h3,{id:"error-handling",children:"Error Handling"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Timeout Handling"}),": Set timeouts for connection establishment and message delivery"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Error Recovery"}),": Handle network failures and temporary disconnections gracefully"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Logging"}),": Log connection events, errors, and unusual patterns"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Monitoring"}),": Track connection counts, message rates, and error rates"]}),`
`]}),`
`,i.jsx(s.h2,{id:"websocket-close-codes",children:"WebSocket Close Codes"}),`
`,i.jsx(s.p,{children:"Common close codes defined in the WebSocket protocol:"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1000"}),": Normal closure"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1001"}),": Going away (e.g., server shutdown, browser navigation)"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1002"}),": Protocol error"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1003"}),": Unsupported data type"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1006"}),": Abnormal closure (no close frame received)"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1008"}),": Policy violation"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1009"}),": Message too big"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"1011"}),": Server error"]}),`
`]}),`
`,i.jsx(s.h2,{id:"limitations",children:"Limitations"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Firewall/Proxy Issues"}),": Some corporate firewalls block WebSocket connections"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"No HTTP Caching"}),": Cannot leverage HTTP caching mechanisms"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Stateful"}),": Requires server to maintain connection state"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Scalability"}),": Requires careful architecture for horizontal scaling"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Browser Compatibility"}),": Older browsers may not support WebSockets"]}),`
`]})]})}function r(e={}){const{wrapper:s}=e.components||{};return s?i.jsx(s,{...e,children:i.jsx(n,{...e})}):n(e)}export{r as default,t as frontmatter,l as toc};
